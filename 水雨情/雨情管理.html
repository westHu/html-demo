<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="ThemeBucket">
  <link rel="shortcut icon" href="#" type="image/png">

  <title>雨情管理</title>

  <!--icheck-->
  <link href="../js/iCheck/skins/minimal/minimal.css" rel="stylesheet">
  <link href="../js/iCheck/skins/square/square.css" rel="stylesheet">
  <link href="../js/iCheck/skins/square/red.css" rel="stylesheet">
  <link href="../js/iCheck/skins/square/blue.css" rel="stylesheet">
  
    <!--dashboard calendar-->
  <link href="../css/clndr.css" rel="stylesheet">

  <!--Morris Chart CSS -->
  <link rel="stylesheet" href="../js/morris-chart/morris.css">

  <link href="../css/style.css" rel="stylesheet">
  <link href="../css/style-responsive.css" rel="stylesheet">

  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <script src="js/html5shiv.js"></script>
  <script src="js/respond.min.js"></script>
  <![endif]-->
  <style type="text/css">
     .tl {  
			width: 400px;  
			height: 50px;  
			position: fixed ! important; 
			right: 350px; 
			top: -300px;
			z-index: 999999;/*这里是该元素与显示屏的距离，据说越大越好，但是我也没有看到效果，因为没有它也是可以的*/  
			margin-top: 20%;  
			margin-left: -209px;   
			background-color :#ffffff;  
			-webkit-transition: .5s ease-in-out;/* css的transition允许css的属性值在一定的时间内从一个状态平滑的过渡到另一个状态 */  
			-moz-transition: .5s ease-in-out;/*这里为了兼容其他浏览器*/  
			-o-transition: .5s ease-in-out;  
			background-color :#ffffff;  
			bolder: 1px #000;
			border:2px solid;
			border-radius:15px;
			-moz-border-radius:15px; /* Old Firefox */
			box-shadow: 10px 10px 5px #888888;
		}
     .color-panel {
         width: 130px;
         height: 230px;
         position: fixed ! important;
         right: 50px;
         top: -200px;
         z-index: 999999;/*这里是该元素与显示屏的距离，据说越大越好，但是我也没有看到效果，因为没有它也是可以的*/
         margin-top: 20%;
         margin-left: -209px;
         background-color :#ffffff;
         -webkit-transition: .5s ease-in-out;/* css的transition允许css的属性值在一定的时间内从一个状态平滑的过渡到另一个状态 */
         -moz-transition: .5s ease-in-out;/*这里为了兼容其他浏览器*/
         -o-transition: .5s ease-in-out;
         background-color :#ffffff;
         bolder: 1px #000;
         border:2px solid;
         border-radius:15px;
         -moz-border-radius:15px; /* Old Firefox */
         box-shadow: 10px 10px 5px #888888;
     }

  </style>
</head>

<body class="horizontal-menu-page">


<section>
    <nav class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="index.html">
                    <img src="../images/tem-inner-logo.png" alt="">
                </a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                 <ul class="nav navbar-nav">
                    <li><a href="../index.html">首 页</a></li>
                    <li><a href="综合管理.html">综合管理</a></li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown"> 运行控制管理 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li><a href="#">土壤含水量监测</a></li>
                            <li><a href="#">小区雨量监测</a></li>
                            <li><a href="#">管道流量</a></li>
                            <li><a href="#">河道监测</a></li>
                            <li><a href="#">泵闸站监测</a></li>
                        </ul>
                    </li>
                    <li><a href="#">设备自检管理</a></li>
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">水雨情 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li class="active"><a href="#">雨情管理</a></li>
                            <li><a href="#">风情管理</a></li>
                            <li><a href="#">水情管理</a></li>
                            <li><a href="#">潮位管理</a></li>
                        </ul>
                    </li>
					<li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">管网分析 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li><a href="#">流量分析</a></li>
                            <li><a href="#">横截面分析</a></li>
                            <li><a href="#">纵界面分析</a></li>
                            <li><a href="#">坡度分析</a></li>
                            <li><a href="#">污染溯源分析</a></li>
                        </ul>
                    </li>
					<li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">运维管理 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li><a href="#">设备管理</a></li>
                            <li><a href="#">巡检管理</a></li>
                           
                        </ul>
                    </li>
					<li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">应急管理 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li><a href="#">应急响应管理</a></li>
                            <li><a href="#">现场指挥管理</a></li>
                            <li><a href="#">应急演练管理</a></li>
                            <li><a href="#">应急信息管理</a></li>
                            
                        </ul>
                    </li>
					<li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">综合评价 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li><a href="#">国家和地方标准</a></li>
                            <li><a href="#">绩效和考核</a></li>
                            <li><a href="#">排水能力负荷</a></li>
                        </ul>
                    </li>
					<li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">基础设置 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li><a href="#">人员管理</a></li>
                            <li><a href="#">组织管理</a></li>
                            <li><a href="#">资源管理</a></li>
                            <li><a href="#">角色管理</a></li>
                            <li><a href="#">消息管理</a></li>
							<li><a href="#">流程管理</a></li>
                        </ul>
                    </li>
                </ul>
                 <ul class="nav navbar-nav navbar-right">
                    <li>
                        <form class="navbar-form navbar-left" role="search">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="百度">
                            </div>
                        </form>
                    </li>
					
					<li>
                        <a href="#" class="dropdown-toggle info-number" data-toggle="dropdown">
                            <i class="fa fa-tasks"></i>
                            <span class="badge">3</span>
                        </a>
                        <div class="dropdown-menu dropdown-menu-head pull-right">
                            <h5 class="title">待办任务【3】</h5>
                            <ul class="dropdown-list user-list">
                                <li class="new">
                                    <a href="#">
                                        <div class="task-info">
                                            <div>设备巡检任务</div>
                                        </div>
                                        <div class="progress progress-striped">
                                            <div style="width: 40%" aria-valuemax="100" aria-valuemin="0" aria-valuenow="40" role="progressbar" class="progress-bar progress-bar-warning">
                                                <span class="">40%</span>
                                            </div>
                                        </div>
                                    </a>
                                </li>
                                <li class="new">
                                    <a href="#">
                                        <div class="task-info">
                                            <div>日常巡查任务</div>
                                        </div>
                                        <div class="progress progress-striped">
                                            <div style="width: 90%" aria-valuemax="100" aria-valuemin="0" aria-valuenow="90" role="progressbar" class="progress-bar progress-bar-success">
                                                <span class="">90%</span>
                                            </div>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <div class="task-info">
                                            <div>日常水位记录任务</div>
                                        </div>
                                        <div class="progress progress-striped">
                                            <div style="width: 66%" aria-valuemax="100" aria-valuemin="0" aria-valuenow="66" role="progressbar" class="progress-bar progress-bar-info">
                                                <span class="">66% </span>
                                            </div>
                                        </div>
                                    </a>
                                </li>                              
                                <li class="new"><a href="">查看所有待办任务</a></li>
                            </ul>
                        </div>
                    </li>
					
					<li>
                        <a href="#" class="dropdown-toggle info-number" data-toggle="dropdown">
                            <i class="fa fa-envelope-o"></i>
                            <span class="badge">4</span>
                        </a>
                        <div class="dropdown-menu dropdown-menu-head pull-right">
                            <h5 class="title">邮件【4】 </h5>
                            <ul class="dropdown-list user-list">
                                <li class="new">
                                    <a href="">
                                        <span class="thumb"><img src="../images/photos/user1.png" alt="" /></span>
                                        <span class="desc">
                                          <span class="name">卢云晓 <span class="badge badge-success">new</span></span>
                                          <span class="msg">泵运行情况...</span>
                                        </span>
                                    </a>
                                </li>
                                <li>
                                    <a href="">
                                        <span class="thumb"><img src="../images/photos/user2.png" alt="" /></span>
                                        <span class="desc">
                                          <span class="name">卢云晓</span>
                                          <span class="msg">帮忙批阅以下文件...</span>
                                        </span>
                                    </a>
                                </li>
                              
                                <li>
                                    <a href="">
                                        <span class="thumb"><img src="../images/photos/user4.png" alt="" /></span>
                                        <span class="desc">
                                          <span class="name">赵胤君</span>
                                          <span class="msg">日常更改巡检计划...</span>
                                        </span>
                                    </a>
                                </li>
                                <li>
                                    <a href="">
                                        <span class="thumb"><img src="../images/photos/user5.png" alt="" /></span>
                                        <span class="desc">
                                          <span class="name">袁公子</span>
                                          <span class="msg">防止海潮倒灌办法...</span>
                                        </span>
                                    </a>
                                </li>
                                <li class="new"><a href="">查看所有邮件</a></li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a href="#" class="dropdown-toggle info-number" data-toggle="dropdown">
                            <i class="fa fa-bell-o"></i>
                            <span class="badge">4</span>
                        </a>
                        <div class="dropdown-menu dropdown-menu-head pull-right">
                            <h5 class="title">通知【4】</h5>
                            <ul class="dropdown-list user-list">
                                <li class="new">
                                    <a href="">
                                        <span class="label label-danger"><i class="fa fa-bolt"></i></span>
                                        <span class="name">机房日志.  </span>
                                        <em class="small">机房今日运行正常...</em>
                                    </a>
                                </li>
                                <li class="new">
                                    <a href="">
                                        <span class="label label-danger"><i class="fa fa-bolt"></i></span>
                                        <span class="name">潮位通知.  </span>
                                        <em class="small">今日最好潮位...</em>
                                    </a>
                                </li>
                                <li class="new">
                                    <a href="">
                                        <span class="label label-danger"><i class="fa fa-bolt"></i></span>
                                        <span class="name">泵站数据异常.  </span>
                                        <em class="small">城内河泵站数据...</em>
                                    </a>
                                </li>
                                <li class="new">
                                    <a href="">
                                        <span class="label label-danger"><i class="fa fa-bolt"></i></span>
                                        <span class="name">会议通知.  </span>
                                        <em class="small">今日下午2点会议...</em>
                                    </a>
                                </li>
                                <li class="new"><a href="">查看所有通知</a></li>
                            </ul>
                        </div>
                    </li>
					
					
					
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown"> <img alt="" src="../images/photos/user-avatar.png"> 超级管理员 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li><a href="#">主页</a></li>
                            <li><a href="#">设置</a></li>
                            <li><a href="login.html">登出</a></li>
                        </ul>
                    </li>
                </ul>
            </div><!-- /.navbar-collapse -->
        </div><!-- /.container-fluid -->
    </nav>

 <!-- main content start-->
    <div class="main-content" style="margin-left:0px;min-height:860px;">
		<div id="mapView" style="height:860px;border:1px solid #000;margin:5px"></div>
		<div class="tl"></div>
        <div class="color-panel">
            <!--<span class="label label-default" style="height:20px; width:50px;  margin: 10px;">Default</span>
            <span class="label label-primary" style="height:20px; width:50px;  margin: 10px;">Primary</span>
            <span class="label label-success" style="height:20px; width:50px;  margin: 10px;">Success</span>
            <span class="label label-warning" style="height:20px; width:50px;  margin: 10px;">Warning</span>
            <span class="label label-danger"  style="height:20px; width:50px;  margin: 10px;">Danger</span>-->
            <table>
                <tbody>








                <tr>
                    <td><div style="height:20px; width:50px; background-color: #767676; margin-left: 15px; margin-top: 5px; margin-right: 5px"></div></td>
                    <td>100ml</td>
                </tr>
                <tr>
                    <td><div style="height:20px; width:50px; background-color: #FFEFDB; margin-left: 15px; margin-top: 5px; margin-right: 5px"></div></td>
                    <td>200ml</td>
                </tr>
                <tr>
                    <td><div style="height:20px; width:50px; background-color: #9b8fff; margin-left: 15px; margin-top: 5px; margin-right: 5px"></div></td>
                    <td>300ml</td>
                </tr>
                <tr>
                    <td><div style="height:20px; width:50px; background-color: #a9d412; margin-left: 15px; margin-top: 5px; margin-right: 5px"></div></td>
                    <td>400ml</td>
                </tr>
                <tr>
                    <td><div style="height:20px; width:50px; background-color: #eeea51; margin-left: 15px; margin-top: 5px; margin-right: 5px"></div></td>
                    <td>600ml</td>
                </tr>
                <tr>
                    <td><div style="height:20px; width:50px; background-color: #0dd459; margin-left: 15px; margin-top: 5px; margin-right: 5px"></div></td>
                    <td>800ml</td>
                </tr>
                <tr>
                    <td><div style="height:20px; width:50px; background-color: #17d455; margin-left: 15px; margin-top: 5px; margin-right: 5px"></div></td>
                    <td>1000ml</td>
                </tr>
                <tr>
                    <td><div style="height:20px; width:50px; background-color: #00FF00; margin-left: 15px; margin-top: 10px; margin-right: 5px"></div></td>
                    <td>1500ml </td>
                </tr>
                </tbody>
            </table>
        </div>

        </div >
        <!--body wrapper end-->

        <!--footer section start-->
        <footer>
            2017 &copy; 海绵 by <a href="#" target="_blank">Hup</a>
        </footer>
        <!--footer section end-->


    </div>
    <!-- main content end-->
</section>


<!-- Placed js at the end of the document so the pages load faster -->
<script src="../js/jquery-1.10.2.min.js"></script>
<script src="../js/jquery-ui-1.9.2.custom.min.js"></script>
<script src="../js/jquery-migrate-1.2.1.min.js"></script>
<script src="../js/bootstrap.min.js"></script>
<script src="../js/modernizr.min.js"></script>
<script src="../js/jquery.nicescroll.js"></script>


<!--easy pie chart-->
<script src="../js/easypiechart/jquery.easypiechart.js"></script>
<script src="../js/easypiechart/easypiechart-init.js"></script>

<!--Sparkline Chart-->
<script src="../js/sparkline/jquery.sparkline.js"></script>
<script src="../js/sparkline/sparkline-init.js"></script>

<!--icheck -->
<script src="../js/iCheck/jquery.icheck.js"></script>
<script src="../js/icheck-init.js"></script>

<!-- jQuery Flot Chart-->
<script src="../js/flot-chart/jquery.flot.js"></script>
<script src="../js/flot-chart/jquery.flot.tooltip.js"></script>
<script src="../js/flot-chart/jquery.flot.resize.js"></script>


<!--Morris Chart-->
<script src="../js/morris-chart/morris.js"></script>
<script src="../js/morris-chart/raphael-min.js"></script>


<!--common scripts for all pages-->
<script src="../js/scripts.js"></script>

<script type="text/javascript" src="http://webapi.amap.com/maps?v=1.4.0&key=1020aebdfa5dfd15c5bc40bd8fc88117"></script>
 <!-- UI组件库 1.0 -->
 <script src="../js/gaode-map/ui-main.js"></script>
<script src="http://webapi.amap.com/ui/1.0/main.js?v=1.0.11"></script>
 <script type="text/javascript">
        var map = new AMap.Map('mapView',{
            pitch:75,
			zoom: 11,
			expandZoomRange:true,
			zooms:[10,12],
			center:[121.680676,29.804232]
        });

        //定位在宁波
        map.plugin(["AMap.CitySearch"], function() {
            var citysearch = new AMap.CitySearch();
            citysearch.getLocalCity();
            AMap.event.addListener(citysearch, "complete", function(result) {
                var citybounds;
                if (result && result.city && result.bounds) {
                    citybounds = result.bounds;
                    map.setBounds(citybounds);
                }
            });
        });
        map.setLimitBounds(map.getBounds());

        //设置卫星图
        AMapUI.loadUI(['control/BasicControl'], function(BasicControl) {
			//添加一个缩放控件
			map.addControl(new BasicControl.Zoom({
				position: 'lt'
			}));

			//缩放控件，显示Zoom值
			map.addControl(new BasicControl.Zoom({
				position: 'lb',
				showZoomNum: true
			}));

			//图层切换控件
			/*map.addControl(new BasicControl.LayerSwitcher({
				position: 'rt'
            }));*/
        });

        //地图着色
        function initPage(DistrictCluster, $) {

            var distCluster = new DistrictCluster({
                map: map, //所属的地图实例

                getPosition: function(item) {

                    if (!item) {
                        return null;
                    }

                    var parts = item.split(',');

                    //返回经纬度
                    return [parseFloat(parts[0]), parseFloat(parts[1])];
                },
                renderOptions: {
                    //基础样式
                    featureStyle: {
                        fillStyle: 'rgba(102,170,0,0.5)', //填充色
                        lineWidth: 2, //描边线宽
                        strokeStyle: 'rgb(31, 119, 180)', //描边色
                        //鼠标Hover后的样式
                        hoverOptions: {
                            fillStyle: 'rgba(255,255,0,0.2)'
                        }
                    },
                    //特定区划级别的默认样式
                    featureStyleByLevel: {
                        //全国
                        country: {
                            fillStyle: 'rgba(49, 163, 84, 0.8)'
                        },
                        //省
                        province: {
                            fillStyle: 'rgba(116, 196, 118, 0.7)'
                        },
                        //市
                        city: {
                            fillStyle: 'rgba(161, 217, 155, 0.6)'
                        },
                        //区县
                        district: {
                            fillStyle: 'rgba(199, 233, 192, 0.5)'
                        }
                    },
                    //直接定义某写区划面的样式
                    getFeatureStyle: function(feature, dataItems) {
                        console.info("dataItems--> " + dataItems.length);
                        if (dataItems.length == 1390) {

                            return {
                                fillStyle: '#FFEFDB'
                            };




                        } else if (dataItems.length == 221) { //海曙区
                            return {
                                fillStyle: '#03a806'
                            };
                        }else if (dataItems.length == 71) { //奉化区
                            return {
                                fillStyle: '#a9d412'
                            };
                        }else if (dataItems.length == 53) { //宁海区
                            return {
                                fillStyle: '#17d455'
                            };
                        }else if (dataItems.length == 117) { //余姚
                            return {
                                fillStyle: '#d4d426'
                            };
                        }else if (dataItems.length == 164) { //慈溪
                            return {
                                fillStyle: '#0dd459'
                            };
                        }else if (dataItems.length == 161) { //北仑
                            return {
                                fillStyle: '#c3c3c3'
                            };
                        }else if (dataItems.length == 30) { //象山
                            return {
                                fillStyle: '#eeea51'
                            };
                        }


                        /*else if (dataItems.length > 1000) {
                            return {
                                fillStyle: '#D4D4D4'
                            };
                        }*/

                        return {};
                    }
                }
            });

            window.distCluster = distCluster;

            $('<div id="loadingTip">加载数据，请稍候...</div>').appendTo(document.body);
            $.get('http://a.amap.com/amap-ui/static/data/10w.txt', function(csv) {

                $('#loadingTip').remove();

                var data = csv.split('\n');

                distCluster.setData(data);
            });
        }

        //加载相关组件
        AMapUI.load(['ui/geo/DistrictCluster', 'lib/$'], function(DistrictCluster, $) {

            //启动页面
            initPage(DistrictCluster, $);
        });



    </script>

</body>
</html>
